import{f as g,a as d,c as Z}from"../chunks/DXwTCEs2.js";import{o as $}from"../chunks/CKHj2-aw.js";import{ag as ee,am as p,a5 as se,a as te,a1 as a,g as e,aj as t,ah as c,ao as M,ai as re,ak as s,an as ae}from"../chunks/e8XAVhbW.js";import{s as h}from"../chunks/Dl4wrC1f.js";import{i as G}from"../chunks/B2-igs9x.js";import{e as oe}from"../chunks/SGUY-15o.js";import{d as ie}from"../chunks/CvInUrh1.js";import{c as le,s as P,a as H}from"../chunks/BoqZBqRB.js";var ce=g("<p>Loading exercises...</p>"),ve=g("<p> </p>"),ne=g('<button><div class="exercise-icon svelte-d816z7"></div> <div class="exercise-content svelte-d816z7"><div class="exercise-header svelte-d816z7"><h3 class="exercise-title svelte-d816z7"> </h3> <div class="exercise-level svelte-d816z7"><span class="level-badge svelte-d816z7"> </span></div></div> <p class="exercise-description svelte-d816z7"> </p></div></button>'),de=g('<div class="exercises-grid svelte-d816z7"></div>'),ue=g('<div class="page-container svelte-d816z7"><h1 class="svelte-d816z7">Training session</h1> <div class="mode-toggle svelte-d816z7"><button>Shooting</button> <button>Pointing</button></div> <div class="exercises-section svelte-d816z7"><h2 class="section-header svelte-d816z7">1. Choose Exercise</h2> <!></div></div>');function ze(I,J){ee(J,!0);let v=p("shooting"),b=p(null),u=p(se([])),x=p(!0),m=p(null);$(()=>{a(m,le(),!0),S()});async function S(){if(e(m)){a(x,!0);try{const{data:r,error:o}=await e(m).from("exercises").select("id, name, catergory, order, color, short_desc, level").eq("catergory",e(v)==="shooting"?"Shooting":"Pointing").order("order",{ascending:!0});o?(console.error("Error fetching exercises:",o),a(u,[],!0)):a(u,r||[],!0)}catch(r){console.error("Error fetching exercises:",r),a(u,[],!0)}finally{a(x,!1)}}}te(()=>{a(b,null),e(m)&&S()});var z=ue(),k=c(t(z),2),y=t(k);let j;y.__click=()=>a(v,"shooting");var q=c(y,2);let w;q.__click=()=>a(v,"pointing"),s(k);var N=c(k,2),K=c(t(N),2);{var O=r=>{var o=ce();d(r,o)},Q=r=>{var o=Z(),R=ae(o);{var U=n=>{var i=ve(),_=t(i);s(i),M(()=>h(_,`No exercises found for ${e(v)??""}.`)),d(n,i)},V=n=>{var i=de();oe(i,21,()=>e(u),_=>_.id,(_,l)=>{var f=ne();let T;f.__click=()=>a(b,e(l).id,!0);var A=t(f),B=c(A,2),E=t(B),C=t(E),W=t(C,!0);s(C);var D=c(C,2),L=t(D),X=t(L);s(L),s(D),s(E);var F=c(E,2),Y=t(F,!0);s(F),s(B),s(f),M(()=>{T=P(f,1,"exercise-card svelte-d816z7",null,T,{selected:e(b)===e(l).id}),H(A,`background-color: ${(e(l).color||"#e5e7eb")??""};`),h(W,e(l).name),H(L,`background-color: ${(e(l).color||"#3b82f6")??""};`),h(X,`Level ${e(l).level??""}`),h(Y,e(l).short_desc)}),d(_,f)}),s(i),d(n,i)};G(R,n=>{e(u).length===0?n(U):n(V,!1)},!0)}d(r,o)};G(K,r=>{e(x)?r(O):r(Q,!1)})}s(N),s(z),M(()=>{j=P(y,1,"mode-button svelte-d816z7",null,j,{active:e(v)==="shooting"}),w=P(q,1,"mode-button svelte-d816z7",null,w,{active:e(v)==="pointing"})}),d(I,z),re()}ie(["click"]);export{ze as component};
